\begin{tikzpicture}[scale=1,transform shape]

\begin{scope}[xshift=0cm,yshift=-6cm]
  \node [struct,minimum width=4 cm] at (-0.5,0) (attrDecl){\hyperref[tab:struct:perfFileAttr]{perf\_file\_attr}};
  \node [struct,minimum width=3 cm] at (-1,-1) (){\hyperref[tab:struct:perfEventAttr]{perf\_event\_attr}};
  \node [entry] at (-2.0,-3) (config){config};
  \node [entry] at (-1.0,-3) (sampleType){sample\_type};
  \node [entry] at ( 0.0,-3) (idSampleBit){sample\_id\_all};
  \node [entry,minimum width=4 cm] at ( 1.0,-2.5) (ids){ids};
  \node [entry,minimum width=5 cm] at ( 2,-2) (){\ldots};
\end{scope}

\begin{scope}[xshift=7cm,yshift=-6cm]
  \node [struct,minimum width=6 cm] at (-0.5,0) (eventDecl){record};
  \node [struct,minimum width=2 cm] at (-2.5,-1) (){\hyperref[tab:struct:perfEventHeader]{perf\_event}\\\hyperref[tab:struct:perfEventHeader]{\_header}};
  \node [entry] at (-3,-3) (){type};
  \node [entry] at (-2,-3) (){size};
  \node [struct,minimum width=2 cm,minimum height=4 cm] at (-0.5,-2.5) (data){data};
  \node [struct,minimum width=2 cm] at (1.5,-1) (){\hyperref[tab:idSample]{id\_sample}};
  \node at (1.5,-4.5) (idSample) {};
  \node [entry] at ( 1,-3) (idSampleTime){time};
  \node [entry] at ( 2,-3) (idSampleId){id};
  \node [entry,minimum width=5 cm] at ( 3,-2) (){\ldots};
\end{scope}

\begin{scope}[xshift=-0.5cm,yshift=-13cm]
  \node [struct,minimum width=4 cm] at (0,0) (perfSample){\hyperref[tab:struct:perfSample]{perf\_sample}};
  \node [entry] at (-1.5,-2) (sampleIp){ip};
  \node [entry] at (-0.5,-2) (samplePid){pid};
  \node [entry] at ( 0.5,-2) (sampleTime){time};
  \node [entry] at ( 1.5,-2) (sampleId){id};
\end{scope}

\begin{scope}[xshift=3cm,yshift=-13cm]
  \node [entry] at (-0.5,-1) (idDecl){id};
  \node [entry] at ( 0.5,-1) (){\ldots};
\end{scope}

\begin{scope}[xshift=5.5cm,yshift=-13cm]
  \node [struct,minimum width=2 cm] at (0,0) (mmapEvent){\hyperref[tab:struct:mmapEvent]{mmap}\\\hyperref[tab:struct:mmapEvent]{\_event}};
  \node [entry] at (-0.5,-2) (mmapPid){pid};
  \node [entry] at ( 0.5,-2) (mmapRange){start / len};
\end{scope}

\begin{scope}[xshift=7.5cm,yshift=-13cm]
  \node [struct,minimum width=1 cm] at (0,0) (commEvent){\hyperref[tab:struct:commEvent]{comm}\\\hyperref[tab:struct:commEvent]{\_event}};
  \node [entry] at (0,-2) (commPid){pid};
\end{scope}

\begin{scope}[xshift=9.5cm,yshift=-13cm]
  \node [struct,minimum width=2 cm] at (0,0) (forkEvent){\hyperref[tab:struct:forkEvent]{fork}\\\hyperref[tab:struct:forkEvent]{\_event}};
  \node [entry] at (-0.5,-2) (forkPid){pid};
  \node [entry] at ( 0.5,-2) (forkTime){time};
\end{scope}


\path [pointer] (ids.west) edge (idDecl.east);
\path [connection,bend right=20] (idSampleBit.west) edge (idSample.west);
\path [connection,bend left=60] (idDecl.west) edge (sampleId.west);
\path [connection] (idDecl.east) edge (idSampleId.west);
\path [connection] (sampleType.west) edge (perfSample.north);
\path [connection,bend right=30] (sampleIp.west) edge (mmapRange.west);
\path [instance] (perfSample.north) edge (data.south);
\path [instance] (commEvent.north) edge (data.south);
\path [instance] (mmapEvent.north) edge (data.south);
\path [instance] (forkEvent.north) edge (data.south);


\end{tikzpicture}
